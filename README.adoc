Plugin-SDK-Projekt lokal installieren
```
git clone https://gitlab.emundo.eu/erd/cardsplus/plugin-sdk.git
cd plugin-sdk
```

NOTE: Das Plugin-SDK kann für alle Produkte von Atlassian verwendet werden.

Das Plugin-SDK liegt als Installationsmedium für Windows, MacOS und Linux vor.

Windows (Installer)::
sdk-x.x.x.exe
MacOS (Installer)::
sdk-x.x.x.dmg
Linux::
sdk-x.x.x.tar.gz

Docker-Image lokal bauen:
```
docker build -t plugin-sdk -f Dockerfile .
```

Das Ergebnis sieht so aus:
```
Sending build context to Docker daemon  431.2MB
Step 1/16 : FROM centos
 ---> 9f38484d220f
Step 2/16 : VOLUME /plugin /m2
 ---> Using cache
 ---> 2030bba90db5
Step 3/16 : RUN yum install -y java-1.8.0-openjdk-devel
 ---> Using cache
 ---> a106de74c0c1
Step 4/16 : ENV JAVA_HOME /usr/lib/jvm/java-1.8.0-openjdk/
 ---> Using cache
 ---> ebdc9b9b7a81
Step 5/16 : COPY artifactory.repo /etc/yum.repos.d/
 ---> Using cache
 ---> 0aa1681a36c0
Step 6/16 : RUN yum -y install atlassian-plugin-sdk-8.0.7
 ---> Using cache
 ---> bb5be763a20f
Step 7/16 : ENV ATLAS_HOME="/usr/share/atlassian-plugin-sdk-8.0.7"
 ---> Using cache
 ---> 3e25a6c3b07e
Step 8/16 : ENV ATLAS_OPTS="-Dmaven.repo.local=/m2/repository"
 ---> Using cache
 ---> c84b1100a668
Step 9/16 : RUN sed -i -e 's/MVN_COMMAND=".*:integration-test"/MVN_COMMAND="integration-test"/g' $ATLAS_HOME/bin/atlas-integration-test
 ---> Using cache
 ---> 4371dddd9fcd
Step 10/16 : EXPOSE 1990
 ---> Using cache
 ---> 8786f41a17f2
Step 11/16 : EXPOSE 2990
 ---> Using cache
 ---> 07deba1768fc
Step 12/16 : EXPOSE 5005
 ---> Using cache
 ---> 2f32532ea3ca
Step 13/16 : COPY entrypoint.sh /
 ---> Using cache
 ---> a6078822570e
Step 14/16 : RUN chmod +x /entrypoint.sh
 ---> Using cache
 ---> 99216f26dd32
Step 15/16 : ENTRYPOINT /entrypoint.sh $0 $@
 ---> Using cache
 ---> 3a90d12ff7e8
Step 16/16 : CMD ["atlas-version"]
 ---> Using cache
 ---> e36395e3c50b
Successfully built e36395e3c50b
Successfully tagged plugin-sdk:latest
```

Docker-Image lokal ausführen:
```
docker run --rm -v ${PWD}:/plugin -v ${HOME}/.m2:/m2 plugin-sdk atlas-version
```

Das Volume "/plugin" enthält den Source-Code und vor allem die pom.xml des Plugins.

Das Volume "/m2" ist eine Optimierung für den Build-Prozess und enthält den M2-Cache.

Als Parameter kann neben atlas-version natürlich jedes andere atlas-Kommando aufgerufen werden, z.B.

* atlas-help
* atlas-create-*
* atlas-run
* atlas-debug
* atlas-clean
* atlas-package

Die Parameter werden beim Aufruf an `entrypoint.sh` übergeben und abhängig vom atlas-Kommando ggfs. noch ergänzt.

Siehe https://developer.atlassian.com/display/DOCS/Introduction+to+the+Atlassian+Plugin+SDK[developer.atlassian.com]